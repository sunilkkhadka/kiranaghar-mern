{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"; //Get user from local storage\n\nconst user = JSON.parse(localStorage.getItem(\"user\"));\nexport const userLogin = createAsyncThunk(\"user/userLogin\", async (email, password) => {\n  try {\n    let response = await fetch(\"/api/users/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: {\n        email: email,\n        password: password\n      }\n    });\n    let data = await response.json();\n    console.log(data);\n  } catch (error) {\n    console.error(error.message);\n  }\n});\nexport const userRegistration = createAsyncThunk(\"user/userRegistration\", async (user, thunkAPI) => {\n  try {} catch (error) {\n    console.error(error.message);\n  }\n});\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    userData: user ? user : null,\n    isError: false,\n    isSuccess: false,\n    isLoading: false,\n    message: \"\"\n  },\n  reducers: {\n    reset: state => {\n      state.isError = false;\n      state.isSuccess = false;\n      state.isLoading = false;\n      state.message = \"\";\n    }\n  },\n  extraReducers: {\n    [userLogin.pending]: () => {\n      console.log(\"pending user login\");\n    },\n    [userLogin.fulfilled]: (state, action) => {\n      state.userData = action.payload;\n      localStorage.setItem(\"userInfo\", JSON.stringify(state.userData));\n    },\n    [userLogin.rejected]: () => {\n      console.log(\"rejected user login\");\n    }\n  }\n});\nexport const {\n  reset\n} = userSlice.actions;\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","user","JSON","parse","localStorage","getItem","userLogin","email","password","response","fetch","method","headers","body","data","json","console","log","error","message","userRegistration","thunkAPI","userSlice","name","initialState","userData","isError","isSuccess","isLoading","reducers","reset","state","extraReducers","pending","fulfilled","action","payload","setItem","stringify","rejected","actions","reducer"],"sources":["/media/sunil/Local Disk F/kirana/frontend/src/features/userSlice.jsx"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n//Get user from local storage\n\nconst user = JSON.parse(localStorage.getItem(\"user\"));\n\nexport const userLogin = createAsyncThunk(\n  \"user/userLogin\",\n  async (email, password) => {\n    try {\n      let response = await fetch(\"/api/users/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: {\n          email: email,\n          password: password,\n        },\n      });\n\n      let data = await response.json();\n      console.log(data);\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n);\n\nexport const userRegistration = createAsyncThunk(\n  \"user/userRegistration\",\n  async (user, thunkAPI) => {\n    try {\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n);\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: {\n    userData: user ? user : null,\n    isError: false,\n    isSuccess: false,\n    isLoading: false,\n    message: \"\",\n  },\n  reducers: {\n    reset: (state) => {\n      state.isError = false;\n      state.isSuccess = false;\n      state.isLoading = false;\n      state.message = \"\";\n    },\n  },\n  extraReducers: {\n    [userLogin.pending]: () => {\n      console.log(\"pending user login\");\n    },\n    [userLogin.fulfilled]: (state, action) => {\n      state.userData = action.payload;\n      localStorage.setItem(\"userInfo\", JSON.stringify(state.userData));\n    },\n    [userLogin.rejected]: () => {\n      console.log(\"rejected user login\");\n    },\n  },\n});\n\nexport const { reset } = userSlice.actions;\nexport default userSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C,C,CAEA;;AAEA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAEA,OAAO,MAAMC,SAAS,GAAGN,gBAAgB,CACvC,gBADuC,EAEvC,OAAOO,KAAP,EAAcC,QAAd,KAA2B;EACzB,IAAI;IACF,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kBAAD,EAAqB;MAC7CC,MAAM,EAAE,MADqC;MAE7CC,OAAO,EAAE;QACP,gBAAgB;MADT,CAFoC;MAK7CC,IAAI,EAAE;QACJN,KAAK,EAAEA,KADH;QAEJC,QAAQ,EAAEA;MAFN;IALuC,CAArB,CAA1B;IAWA,IAAIM,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAT,EAAjB;IACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ;EACD,CAdD,CAcE,OAAOI,KAAP,EAAc;IACdF,OAAO,CAACE,KAAR,CAAcA,KAAK,CAACC,OAApB;EACD;AACF,CApBsC,CAAlC;AAuBP,OAAO,MAAMC,gBAAgB,GAAGpB,gBAAgB,CAC9C,uBAD8C,EAE9C,OAAOC,IAAP,EAAaoB,QAAb,KAA0B;EACxB,IAAI,CACH,CADD,CACE,OAAOH,KAAP,EAAc;IACdF,OAAO,CAACE,KAAR,CAAcA,KAAK,CAACC,OAApB;EACD;AACF,CAP6C,CAAzC;AAUP,MAAMG,SAAS,GAAGvB,WAAW,CAAC;EAC5BwB,IAAI,EAAE,MADsB;EAE5BC,YAAY,EAAE;IACZC,QAAQ,EAAExB,IAAI,GAAGA,IAAH,GAAU,IADZ;IAEZyB,OAAO,EAAE,KAFG;IAGZC,SAAS,EAAE,KAHC;IAIZC,SAAS,EAAE,KAJC;IAKZT,OAAO,EAAE;EALG,CAFc;EAS5BU,QAAQ,EAAE;IACRC,KAAK,EAAGC,KAAD,IAAW;MAChBA,KAAK,CAACL,OAAN,GAAgB,KAAhB;MACAK,KAAK,CAACJ,SAAN,GAAkB,KAAlB;MACAI,KAAK,CAACH,SAAN,GAAkB,KAAlB;MACAG,KAAK,CAACZ,OAAN,GAAgB,EAAhB;IACD;EANO,CATkB;EAiB5Ba,aAAa,EAAE;IACb,CAAC1B,SAAS,CAAC2B,OAAX,GAAqB,MAAM;MACzBjB,OAAO,CAACC,GAAR,CAAY,oBAAZ;IACD,CAHY;IAIb,CAACX,SAAS,CAAC4B,SAAX,GAAuB,CAACH,KAAD,EAAQI,MAAR,KAAmB;MACxCJ,KAAK,CAACN,QAAN,GAAiBU,MAAM,CAACC,OAAxB;MACAhC,YAAY,CAACiC,OAAb,CAAqB,UAArB,EAAiCnC,IAAI,CAACoC,SAAL,CAAeP,KAAK,CAACN,QAArB,CAAjC;IACD,CAPY;IAQb,CAACnB,SAAS,CAACiC,QAAX,GAAsB,MAAM;MAC1BvB,OAAO,CAACC,GAAR,CAAY,qBAAZ;IACD;EAVY;AAjBa,CAAD,CAA7B;AA+BA,OAAO,MAAM;EAAEa;AAAF,IAAYR,SAAS,CAACkB,OAA5B;AACP,eAAelB,SAAS,CAACmB,OAAzB"},"metadata":{},"sourceType":"module"}